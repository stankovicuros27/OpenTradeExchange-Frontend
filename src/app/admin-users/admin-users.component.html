<div class="row navbar-background">
    <div class="col-9">
        <app-admin-navbar></app-admin-navbar>
    </div>
    <div class="col-3">
        <app-logout class="logout"></app-logout>
    </div>
</div>
<body>
    <div>
        <br>   
        <h2 class="text-center">List of all users</h2>
        <br>   
        <div>
            <div class="row">
                <div class="col-md-12 table-responsive text-center user-table">
                    <table class="table table-light table-striped table-hover table-bordered mx-auto w-auto">
                        <thead>
                            <tr>
                                <th scope="col">User ID</th>
                                <th scope="col">Username</th>
                                <th scope="col">User Type</th>
                                <th scope="col">Change User Type</th>
                                <th scope="col">Update</th>
                            </tr>
                        </thead>
                        <tbody *ngFor='let currUser of allUsers'>
                            <tr>
                                <td scope="col">{{currUser.userID}}</td>
                                <td scope="col">{{currUser.username}}</td>
                                <td>
                                    <p class='yellow strokeme' *ngIf='currUser.userType == 0'>Pending</p>
                                    <p class='red strokeme' *ngIf='currUser.userType == -1'>Rejected</p>
                                    <p class='green strokeme' *ngIf='currUser.userType == 1'>Regular User</p>
                                    <p class='lightgreen strokeme' *ngIf='currUser.userType == 2'>Premium User</p>
                                    <p class='blue strokeme' *ngIf='currUser.userType == 3'>Moderator</p>
                                    <p class='cyan strokeme' *ngIf='currUser.userType == 4'>Administrator</p>
                                </td>
                                <td>
                                    <select name="userType" id="userType" [(ngModel)]="currUser.userType">
                                        <option value="" selected disabled hidden>Set Type</option>
                                        <option value="-1">Rejected</option>
                                        <option value="0">Pending</option>
                                        <option value="1">Regular</option>
                                        <option value="2">Premium</option>
                                        <option value="3">Moderator</option>
                                        <option value="4">Administrator</option>
                                    </select>
                                </td>
                                <td>
                                    <button (click)="setUserType(currUser.userID, currUser.userType)">Update</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <div class="text-center">
        <h3>Analytics:</h3>
        <app-chart-pie></app-chart-pie>
        <br>
        <table style="width:60%" class="table-striped">
            <tr>
                <th>Number of all users:</th>
                <td>{{numberOfAllUsers}}</td>
            </tr>
            <tr>
                <th>Number of not accepted users:</th>
                <td>{{numberOfNotAcceptedUsers}}</td>
            </tr>
            <tr>
                <th>Number of regular users:</th>
                <td>{{numberOfRegularUsers}}</td>
            </tr>
            <tr>
                <th>Number of premium users:</th>
                <td>{{numberOfPremiumUsers}}</td>
            </tr>
        </table>
    </div>
    <br>
</body>